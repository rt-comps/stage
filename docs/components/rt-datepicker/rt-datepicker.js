const[e]=rtlib.parseCompURL(import.meta.url);customElements.define(e,class extends rtBC.RTBaseClass{static formAssociated=!0;#e;#t;#s;#i;#a;#h;constructor(){super(),this.#e=this.attachShadow({mode:"open"}),this.#e.append(this.$getTemplate()),this.#i=this.attachInternals(),this.#a=this.#e.querySelector("#container"),this.#t=this.#e.querySelector("#al"),this.#s=this.#e.querySelector("#ar"),this.#a._week=0,this.#t.addEventListener("click",()=>this.#n(-1)),this.#s.addEventListener("click",()=>this.#n(1));const e={handleEvent:this.#r,pickerNode:this};this.addEventListener("datepicked",e);let t=[0,6];this.$attr("invalid")&&(t=this.$attr2NumArray("invalid"));this.#e.querySelectorAll("dp-date").forEach(e=>{t.includes(e.getAttribute("day")%7)&&e.setAttribute("invalid","")})}connectedCallback(){"undefined"!=typeof rtForm&&rtForm.findNode(this,"form")&&rtForm.getStyle(this,rtForm.findNode(this)),this.#a._maxWeek=this.$attr("maxweek")?parseInt(this.$attr("maxweek"))-1:void 0,this.#a._locale=this.$attr("locale")||void 0,this.hidden=!0}formAssociatedCallback(e){e&&e.addEventListener("formdata",e=>e.formData.set("picked-date",this.#h))}formResetCallback(){this.#o(),this.hidden=!0,this.#a._week=0,this.$dispatch({name:"changeWeek",composed:!1,eventbus:this.#a})}#n(e){this.#o(),this.#a._week+=e,this.#a._week<0&&(this.#a._week=0),this.#a._maxWeek&&this.#a._week>this.#a._maxWeek&&(this.#a._week=this.#a._maxWeek),this.$dispatch({name:"changeWeek",composed:!1,eventbus:this.#a})}#r(e){this.pickerNode.#h=this.pickerNode.$localeDate(e.detail.date,this.pickerNode.#a._locale,{weekday:"short",month:"short",year:"numeric",day:"numeric"}),this.pickerNode.#d(e.detail.day)}#o(){this.#d("-1"),this.#h=null}#d(e){this.$dispatch({name:"choiceMade",detail:{day:e},composed:!1,eventbus:this.#a})}get value(){return this.#h}get name(){return this.$attr("name")}checkValidity(){return new Map([["valid",!!this.#h],["field","datepicker"]])}focus(){this.#e.querySelector("#container").focus({focusVisible:!0})}reset(){this.formResetCallback()}});