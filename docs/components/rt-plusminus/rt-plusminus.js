const[t]=rtlib.parseCompURL(import.meta.url);customElements.define(t,class extends rtBC.RTBaseClass{#t;#e;constructor(){super(),this.#t=this.attachShadow({mode:"open"}),this.#t.append(this.$getTemplate());const t=this.attributes.colors;if(t){const[e,s]=t.value.split(","),r=this.#t.querySelector("div");r.style.color=s||"",r.style.backgroundColor=e||""}new MutationObserver(this.#s).observe(this,{attributes:!0,attributeFilter:["count"]}),this.$attr("count")||this.$attr("count","0"),this.#t.querySelector("#plus").addEventListener("click",()=>this.#r(1)),this.#t.querySelector("#minus").addEventListener("click",()=>this.#r(-1))}connectedCallback(){"undefined"!=typeof rtForm&&rtForm.getStyle(this,rtForm.findNode(this)),setTimeout(()=>{this.#e=parseInt(getComputedStyle(this.#t.querySelector("#container")).getPropertyValue("--PM-MAX-COUNT"));const t=getComputedStyle(this).getPropertyValue("--PM-POS");"left"===t.toLowerCase()&&this.#t.querySelector("div").insertAdjacentElement("afterbegin",this.#t.querySelector("#count")),"right"===t.toLowerCase()&&this.#t.querySelector("div").insertAdjacentElement("beforeend",this.#t.querySelector("#count"))})}#r(t){const e=parseInt(this.$attr("count"));let s=e+t;switch(!0){case s>this.#e:s=this.#e;break;case s<0:s=0}s!==e&&(this.$attr("count",String(s)),this.$dispatch({name:"updatecount"}))}#s(t){const e=t[0].target;e.#t.querySelector("#count").textContent=e.$attr(t[0].attributeName)}});