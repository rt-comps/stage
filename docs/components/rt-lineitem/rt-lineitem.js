const[t,e]=rtlib.parseCompURL(import.meta.url);customElements.define(t,class extends rtBC.RTBaseClass{#t;#e;constructor(){super(),this.#t=this.attachShadow({mode:"open"}),this.#t.append(this.$getTemplate()),this.#e=this.#t.querySelector("rt-plusminus");const t={handleEvent:this.#s,lineNode:this};this.#t.querySelector("#delete").addEventListener("click",t),this.addEventListener("updatecount",this.#n)}connectedCallback(){"undefined"!=typeof rtForm&&rtForm.getStyle(this,rtForm.findNode(this)),setTimeout(()=>{this.count=this.parentNode.cartContents.get(this.$attr("prodid")),this.#r()},0)}#s(){this.lineNode.count=0,this.lineNode.#n()}#r(){const s=parseInt(this.$attr("unit")),n=parseInt(this.count);this.#t.querySelector("#unit").innerHTML=`${this.$euro(s/100)}`,this.#t.querySelector("#total").innerHTML=`${this.$euro(n*s/100)}`,this.#t.querySelector("img").src=`${e}/components/${t}/imgs/trashcan.jpeg`}#n(t){t instanceof Event&&t.stopImmediatePropagation(),this.$dispatch({name:"cartmod",detail:{prodID:this.$attr("prodid"),count:parseInt(this.count)}}),this.count>0?this.#r():this.remove()}get count(){return this.#e.$attr("count")}set count(t){this.#e.$attr("count",t)}});